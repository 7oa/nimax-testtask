{#
Функция для подбора правильной формы склонения в зависимости от числа элементов
* Примеры использования
*
* {{ utils.declension( 1, ['комментарий','комментария','комментариев']) }}
* Вернет: 1 комментарий
*
* {{ utils.declension(52, ['комментарий','комментария','комментариев']) }}
* Вернет: 52 комментария
*
* {{ utils.declension(18, ['комментарий','комментария','комментариев']) }}
* Вернет: 18 комментариев
#}

{% macro declension(number, forms, isNumber) %}
	{% set cases = [2, 0, 1, 1, 1, 2] %}
	{%  if isNumber %}{{ number }}&nbsp;{% endif %}{{ forms[ ( number%100>4 and number%100<20)? 2 : cases[min(number%10, 5)] ] }}
{% endmacro %}